# Production Environment Variables for RBCA Task Management System
# Copy this file to .env.production and fill in your actual values

# ================================
# APPLICATION SETTINGS
# ================================
NODE_ENV=production
PORT=3000
API_PREFIX=api/v1

# ================================
# DATABASE CONFIGURATION
# ================================
# PostgreSQL connection string
DATABASE_URL=postgresql://rbca_user:your_secure_password@localhost:5432/rbca_tasks

# Database settings
DATABASE_SSL=true
DATABASE_LOGGING=false

# PostgreSQL specific (for Docker Compose)
POSTGRES_DB=rbca_tasks
POSTGRES_USER=rbca_user
POSTGRES_PASSWORD=your_secure_password_change_this

# ================================
# JWT AUTHENTICATION
# ================================
# IMPORTANT: Use a strong, random secret (minimum 32 characters)
JWT_SECRET=your-super-secure-jwt-secret-at-least-32-characters-long-change-this-in-production
JWT_EXPIRES_IN=7d

# ================================
# SECURITY SETTINGS
# ================================
# Password hashing rounds (higher = more secure but slower)
BCRYPT_ROUNDS=12

# CORS settings (comma-separated list of allowed origins)
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
CORS_CREDENTIALS=true

# Rate limiting
RATE_LIMIT_WINDOW=15  # minutes
RATE_LIMIT_MAX_REQUESTS=100

# Security headers
HELMET_ENABLED=true
CSRF_PROTECTION=true

# ================================
# REDIS CONFIGURATION (Optional)
# ================================
REDIS_URL=redis://:your_redis_password@localhost:6379
REDIS_PASSWORD=your_redis_password_change_this

# ================================
# LOGGING CONFIGURATION
# ================================
LOG_LEVEL=info  # error, warn, info, debug
LOG_FORMAT=json

# ================================
# FILE UPLOAD SETTINGS
# ================================
MAX_FILE_SIZE=5242880  # 5MB in bytes
UPLOAD_DEST=uploads/

# ================================
# EMAIL CONFIGURATION (Optional)
# ================================
SMTP_HOST=smtp.yourmailprovider.com
SMTP_PORT=587
SMTP_SECURE=false  # true for 465, false for other ports
SMTP_USER=your-email@domain.com
SMTP_PASS=your-email-password

# Email from address
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=RBCA Task Manager

# ================================
# MONITORING & ANALYTICS
# ================================
# Sentry for error tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Health check path
HEALTH_CHECK_PATH=/health

# ================================
# FRONTEND CONFIGURATION
# ================================
# API URL for frontend
API_URL=https://api.yourdomain.com

# WebSocket URL (if using real-time features)
WS_URL=wss://api.yourdomain.com

# ================================
# SSL/TLS CONFIGURATION
# ================================
# SSL certificate paths (if using HTTPS)
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem

# ================================
# BACKUP CONFIGURATION
# ================================
# Backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1

# ================================
# MONITORING CONFIGURATION
# ================================
# Grafana admin password
GRAFANA_PASSWORD=your_secure_grafana_password

# ================================
# FEATURE FLAGS (Optional)
# ================================
# Enable/disable features
ENABLE_SWAGGER=false
ENABLE_RATE_LIMITING=true
ENABLE_AUDIT_LOGGING=true
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_WEBSOCKETS=false

# ================================
# THIRD-PARTY INTEGRATIONS
# ================================
# Google OAuth (if implementing)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Microsoft OAuth (if implementing)
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# ================================
# PERFORMANCE SETTINGS
# ================================
# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_ACQUIRE_TIMEOUT=30000
DB_POOL_IDLE_TIMEOUT=10000

# Cache settings
CACHE_TTL=3600  # 1 hour in seconds
CACHE_MAX_ITEMS=1000

# ================================
# DEVELOPMENT/STAGING OVERRIDES
# ================================
# Uncomment these for staging environment
# NODE_ENV=staging
# LOG_LEVEL=debug
# DATABASE_LOGGING=true
# ENABLE_SWAGGER=true

# ================================
# SECURITY NOTES
# ================================
# 1. Never commit this file with real values to version control
# 2. Use strong, unique passwords for all services
# 3. Regularly rotate JWT secrets and passwords
# 4. Use environment-specific values for each deployment
# 5. Consider using a secrets management service for production
# 6. Enable SSL/TLS in production
# 7. Use a reverse proxy (nginx) in production
# 8. Enable monitoring and alerting
# 9. Regularly backup your database
# 10. Keep dependencies updated

